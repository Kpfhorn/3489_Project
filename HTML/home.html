<!DOCTYPE HTML>
<html>
<head>
    <link rel='stylesheet' href="styles.css" type="text/css"/>
    <title>Home</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
        $(function () {
            var socket = io();
            var count = 1;
            var template = '';
            $.get('/res/home_table_template.html', function(data, status){
                template = data.toString();
            });

            socket.emit('fetch', {'ID':'GOOG'});
            socket.emit('fetch', {'ID':'AAPL'});
            socket.emit('fetch', {'ID':'TSLA'});
            socket.emit('fetch', {'ID':'MSFT'});
            socket.on('load', function(data){
                var tmp = template;
                var field = 'info' + count;
                var id = '#' + field;
                tmp = tmp.replace('temp', field);
                count++;
                $('#table').append(tmp);
                $(id).find('.title').text(data.name);
                $(id).find('.ID').text('(' + data.ID + ')').attr('href', '/company/'+data.ID);
                $(id).find('.price').text('$'+ data.price);
            });
        })
    </script>
</head>
<body>
<div class="header">
    Home
</div>
<div class="navbar">
    <ul>
        <li><a href="/home" class="active">Home</a></li>
        <li><a href="/profile">Profile</a></li>
        <li><a href="/search">Search</a></li>
    </ul>
</div>
<table class="graphs">
<tbody id="table">

</tbody>
</table>

</body>
</html>